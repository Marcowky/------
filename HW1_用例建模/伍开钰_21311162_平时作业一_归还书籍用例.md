# "归还书籍"用例

伍开钰 21311162

<img src="D:\tools\typora_images\归还书籍用例\image-20230505214332289.png" alt="image-20230505214332289" style="zoom:67%;" />

**用例名：**归还书籍

**概述：**系统用户验证校园卡后归还图书

**参与者：**用户(主要参与者)、校园卡系统

**前置条件：**自助借还机处于正常状态且空闲

**主序列：**

1. 用户将校园卡插入读卡器。
2. 若系统成功识别该校园卡，则读取持卡人信息和卡有效期等信息，并验证这张卡没有过期。
2. 系统向外部校园卡系统验证该校园卡未被挂失。
3. 若校园卡验证通过，系统将会通过显示器提示用户选择借阅、续借或归还功能。
4. 用户选择"归还"选项，进入归还界面后，将要归还的每本书籍的条形码置于自助借还机的扫描器下。
5. 如果扫描器能条形码中识别该书的名称、作者等信息，则系统将读取该书的借阅者和借阅到期时间等信息，并显示给用户。
6. 完成所有书籍的信息扫描，用户可以点击"确认"。
6. 系统将会更新所有书籍对应的借阅记录，完成归还。
6. 系统结束功能操作，退出校园卡。

**可替换序列：**

​	步骤2：如果校园卡识别失败，那么系统弹出该卡并提示校园卡无法识别

​	步骤4：如果校园卡验证失败，那么系统提示"卡已过期"或"卡已挂失"，并退卡

​	步骤6：如果书籍的条形码无法识别，那么系统将退出校园卡并提示"书籍无法识别，请到柜台归还!"

​	步骤5-9：如果用户选择取消操作，那么系统将结束功能操作，退出校园卡

**后置条件：**客户归还了书籍，书籍对应借阅记录被更新
